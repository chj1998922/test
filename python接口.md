# 接口文档
10.0.46.79:5001

## (一)预处理

### 规范文档

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /docx_pretreatment/table |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| file_path | 原文档FAST地址 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | file_path   | [知识点文档fast地址，数据文档fast地址] |

### 分词标注

#### 一、分词标注

#### 1.1服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /seg_mark/docx_file |
#### 1.2请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| file | 预处理文件FAST地址 | Y       | str      |

#### 1.3返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | file   | 标注后的fast地址 |

#### 二、分词标注二次处理
#### 2.1服务地址  
| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /seg_mark/docx_file_pd |
#### 2.2请求参数 
| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| file | 分词标注返回的FAST地址 | Y       | str      |
#### 2.3返回结果参数说明
| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | file   | 标注后的fast地址 |

## (二)知识学习

### 语义识别本体（知识点识别）

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /identify/ontology |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| ontology_lable | 本体标签+版本 | Y       | str      |
| semantic_lable | 语义网标签 | Y       | str      |
| filepath | 知识点文档FAST地址 | Y       | str      |
| file_id | 知识点文档唯一标识 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | collection_name   | Mongo集合名（文档标识+_knowledge）, 库名：data_db_govern_files |

### 补充本体

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /ontology/co_supplement/reports' |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| co_uuid | 本体标签+版本 | Y       | str      |
| identify | 识别结果集合名 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | collection_name   | mongo集合名（本体uuid+_report）, 库名：data_db_govern |

## (三)文档阅读

### 语义识别本体（数据识别）

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /identify/docx_para_data |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| semantic | 语义网标签 | Y       | str      |
| co_uuid | 本体标签+版本 | Y       | str      |
| mark_file | 数据标注文件fast地址 | Y       | str      |
| file_id | 数据标注文件的唯一标识 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | collection_name   | mongo集合名称（文档标识+_para）, 库名：data_db_govern_files|

### 四标标注

#### 标识标注

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /identify/docx_four_sign |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| file_path | 数据标注FAST地址 | Y       | str      |
| projection_version | 投影版本 | Y       | str      |
| para_data | 数据识别集合名 | Y       | str      |
| co_uuid | 本体标签+版本 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | file   |  标识标注文件fast地址    |

#### 标签标引

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /identify/docx_four_sign_index |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| file_path | 标识标注文件FAST地址 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data   | file_path   |  标引文件fast地址    |
|        | art_type | 文章类型 |
|        | wells_info | 井信息 |

## (四) 本体

### 本体生成三元组

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /ontology/co_triple_to_mongo |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| co_uuid | 本体标签+版本 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        |    |  |

### 本体生成字典

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /ontology/words_dict_to_redis |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| co_uuid | 本体标签+版本 | Y       | str      |
| dict_type | 字典名称 | Y       | list      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        |    |  |

### 本体生成图谱

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /ontology/words_dict_to_redis |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| co_uuid | 本体标签+版本 | Y       | str      |
| create_type | 创建类型（节点、关系、属性） | Y       | list    |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        |    |  |

## (五) 和学习阅读无关的算法接口

### 文本摘要

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /algorithm/fastTextRank_chinese/single |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| content | 文本或fast地址 | Y       | str      |
| size | 摘要有几句话 | Y       | int    |
| all_text | 是否要正文 | Y       | 0是不要，1是要    |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | abstract  | 摘要 |
|             | file_text  | 正文 |

### 新词发现

#### 1.服务地址 

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /find_new_words/participle |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| special | 文本或fast地址 | Y       | str      |


#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | collection_name  | mongo集合名 |


## (六) 数据查询接口

### 钻井液信息

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /data_search/drilling_fluid |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| well_id | 井号 | Y       | str      |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | drilling_fluid_info  | 钻井液字典列表 |

### 搜索组件数据

#### 1.服务地址  

| 请求方式 | URL                    |
| -------- | ---------------------- |
| POST     | /data_search/search_components |

#### 2.请求参数 

| key       | 含义     | 是否必填 | 类型     |
| --------- | -------- | -------- | -------- |
| well_id | 井号 | Y       | str      |
| art_type | 文章类型，如 钻井井史 | Y       | int    |
| file_fast | 预处理数据文件fast地址 | Y       | str    |

#### 3.返回结果参数说明

| key         |        | 含义          |
| ----------- | ------ | --------------| 
| status_code | 200    | 状态码         | 
| data        | 摘要  | 摘要 |
|             | 正文文本  | 正文文本 |
|             | 完井日期  | 完井日期 |
|             | ....  | 其它属性 |

